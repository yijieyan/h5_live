<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>video 标签的事件</title>
</head>
<body>
  <video src="../video/bear.mp4"  width="320" height="240" controls controlslist="nodownload nofullscreen" id="video"></video>
  <script>
    let v = document.getElementById("video");
    // loadstart :开始请求数据
    v.addEventListener('loadstart' , function (e) {
      console.log('loadstart',v.duration);
    })
    // durationchange 资源长度发生变化(网络不断加载,视频的时长也在变化)
    v.addEventListener('durationchange', function() {
      console.log('durationchange');
    })
    // loadedmetadata 成功获取资源长度
    v.addEventListener('loadedmetadata', function(e) {
      console.log('loadedmetadata', v.duration);
    })
    // loadeddata 当前帧的数据已加载，但没有足够的数据来播放视频的下一帧
    v.addEventListener('loadeddata', function(e) {
      console.log('loadeddata');
    })
    // progress 客户端正在请求数据
    v.addEventListener('progress', function(e) {
      console.log('progress');
    })
    // canplay 可以播放，但中途可能因为加载而暂停
    v.addEventListener('canplay', function(e) {
      console.log('canplay');
    })
    // canplaythrough 浏览器预计能够在不停下来进行缓冲的情况下持续播放指定的视频
    v.addEventListener('canplaythrough', function(e) {
      console.log('canplaythrough');
    })
    // play 点击播放时触发
    v.addEventListener('play', function(e) {
      console.log('play');
    })
    // pause 点击暂停时触发
    v.addEventListener('pause', function(e) {
      console.log('pause')
    })
    // seeking 移动/跳跃到新的视频播放位置
    v.addEventListener('seeking', function(e) {
      console.log('seeking');
    })
    // seeked  移动/跳跃到视频中的新位置
    v.addEventListener('seeked', function(e) {
      console.log('seeked');
    })
    // waiting 等待数据，并非错误
    v.addEventListener('waiting', function(e) {
      console.log('waiting');
    })
    // playing 在视频因缓冲而暂停或停止后已就绪时触发
    v.addEventListener('playing', function(e) {
      console.log('playing');
    })
    // timeupdate 播放时间改变
    v.addEventListener('timeupdate', function(e) {
      console.log('timeupdate');
    })
    // ended 播放结束
    v.addEventListener('ended', function(e) {
      console.log('ended');
    })
    // error 播放过程中出现错误
    v.addEventListener('error', function(e) {
      console.log('error');
    })
  </script>
</body>
</html>
